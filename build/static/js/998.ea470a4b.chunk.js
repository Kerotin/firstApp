"use strict";(self.webpackChunkfirst_01=self.webpackChunkfirst_01||[]).push([[998],{7998:function(s,t,e){e.r(t),e.d(t,{default:function(){return V}});var r=e(1413),n=e(5671),i=e(3144),o=e(136),a=e(516),u=e(2791),l=e(8687),c=e(6070),d="MyPosts_postsBlock__Jv0Yk",h="MyPosts_posts__2Mhy-",p="Post_item__ESVTP",f=e(184);var x=function(s){return(0,f.jsxs)("div",{className:p,children:[(0,f.jsx)("img",{src:"https://cdn.dribbble.com/users/388052/screenshots/15969217/media/541d0e931dc044f08db966abeb598aec.jpg?compress=1&resize=400x300&vertical=top",alt:"avatar"}),s.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["like ",s.likes]})})]})},j=e(6139),v=e(704),m=e(5304),b=e(9086),g=(0,v.Z)({form:"ProfileAddNewPostForm"})((function(s){var t=s.handleSubmit;return(0,f.jsxs)("form",{onSubmit:t,children:[(0,f.jsx)("div",{children:(0,f.jsx)(j.Z,{placeholder:"New Post Text",name:"newPostText",component:b.gx,validate:[m.C,(0,m.D)(10)]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),P=u.memo((function(s){var t=s.posts.map((function(s){return(0,f.jsx)(x,{message:s.message,likes:s.likesCount},s.id)}));return(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("h3",{children:"My Post"}),(0,f.jsx)(g,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,f.jsx)("div",{className:h,children:t})]})})),S=(0,l.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,c.WA)(t))}}}))(P),k=e(9439),_="ProfileInfo_userData__Sy5mq",U="ProfileInfo_user__HcVLB",Z="ProfileInfo_userAvatar__HXnw6",y="ProfileInfo_mainPhoto__JYzFZ",I="ProfileInfo_contacts__mz7zR",w="ProfileInfo_formSummaryError__KqFc9",A=e(2733),C=function(s){var t=(0,u.useState)(!1),e=(0,k.Z)(t,2),r=e[0],n=e[1],i=(0,u.useState)(s.status),o=(0,k.Z)(i,2),a=o[0],l=o[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,f.jsxs)("div",{children:[!r&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Status:"})," ",(0,f.jsx)("span",{onDoubleClick:function(){s.isOwner&&n(!0)},children:s.status||"-----"})]}),r&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){n(!1),s.updateUserStatus(a)},onChange:function(s){l(s.currentTarget.value)},value:a})})]})},N=e(1160),F=(0,v.Z)({form:"edit-profile"})((function(s){var t=s.handleSubmit,e=s.status,r=s.updateUserStatus,n=s.profile,i=s.error,o=s.onSubmitClose;return(0,f.jsxs)("form",{onSubmit:t,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Full name"}),": ",(0,b.Gr)("Full name","fullName",b.II,[])]}),(0,f.jsx)(C,{status:e,updateUserStatus:r}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),":"," ",(0,b.Gr)("","lookingForAJob",b.II,[],{type:"checkbox"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My professional skills"}),":",(0,b.Gr)("My professional skills","lookingForAJobDescription",b.gx,[])]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),": ",(0,b.Gr)("About me","aboutMe",b.gx,[])]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(n.contacts).map((function(s){return(0,f.jsx)("div",{className:I,children:(0,f.jsxs)("b",{children:[s,": ",(0,b.Gr)(s,"contacts."+s,b.II,[])]})},s)}))]}),i&&(0,f.jsx)("div",{className:w,children:i}),(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{children:"Save"}),(0,f.jsx)("button",{onClick:o,children:"Close"})]})]})}));var T=function(s){var t=s.profile,e=s.isOwner,r=s.goToEditMode,n=s.status,i=s.updateUserStatus;return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Full name"}),": ",t.fullName]}),(0,f.jsx)(C,{status:n,updateUserStatus:i,isOwner:e}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(t.contacts).map((function(s){return(0,f.jsx)(M,{contactTitle:s,contactValue:t.contacts[s]},s)}))]}),e&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:r,children:"Edit"})})]})},M=function(s){var t=s.contactTitle,e=s.contactValue;return(0,f.jsxs)("div",{className:I,children:[(0,f.jsx)("b",{children:t}),": ",e]})},O=function(s){var t=s.profile,e=s.isOwner,r=s.savePhoto,n=s.status,i=s.updateUserStatus,o=s.saveProfile,a=(0,u.useState)(!1),l=(0,k.Z)(a,2),c=l[0],d=l[1];return t?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:U,children:[(0,f.jsxs)("div",{className:Z,children:[(0,f.jsx)("img",{src:t.photos.large||N,className:y,alt:"avatar"}),e&&(0,f.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&r(s.target.files[0])}})]}),(0,f.jsx)("div",{className:_,children:c?(0,f.jsx)(F,{initialValues:t,profile:t,status:n,updateUserStatus:i,onSubmit:function(s){o(s).then((function(){}))},onSubmitClose:function(){d(!1)}}):(0,f.jsx)(T,{profile:t,isOwner:e,goToEditMode:function(){d(!0)},status:n,updateUserStatus:i})})]})}):(0,f.jsx)(A.Z,{})},D=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(O,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus,saveProfile:s.saveProfile}),(0,f.jsx)(S,{})]})},J=e(7689),z=e(7781),E=e(1548),G=function(s){(0,o.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"componentDidUpdate",value:function(s){var t=this.props.match.params.userId;if(s.match.params.userId!==t){var e=this.props.authorizedUserId;this.props.getUserProfile(e),this.props.getUserStatus(e)}}},{key:"render",value:function(){return(0,f.jsx)(D,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto}))}}]),e}(u.Component);var V=(0,z.qC)((0,l.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:c.et,getUserStatus:c.Tq,updateUserStatus:c.OL,savePhoto:c.Ju,saveProfile:c.Ii}),(function(s){return function(t){var e=(0,J.TH)(),n=(0,J.s0)(),i=(0,J.UO)();return(0,f.jsx)(s,(0,r.Z)((0,r.Z)({},t),{},{match:{location:e,navigate:n,params:i}}))}}),E.D)(G)},1548:function(s,t,e){e.d(t,{D:function(){return p}});var r=e(1413),n=e(5671),i=e(3144),o=e(136),a=e(516),u=e(2791),l=e(8687),c=e(7689),d=e(184),h=function(s){return{isAuth:s.auth.isAuth}},p=function(s){var t=function(t){(0,o.Z)(u,t);var e=(0,a.Z)(u);function u(){return(0,n.Z)(this,u),e.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(s,(0,r.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login",replace:!0})}}]),u}(u.Component);return(0,l.$j)(h)(t)}}}]);
//# sourceMappingURL=998.ea470a4b.chunk.js.map