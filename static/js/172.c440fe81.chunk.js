"use strict";(self.webpackChunkfirst_01=self.webpackChunkfirst_01||[]).push([[172],{4172:function(s,t,e){e.r(t),e.d(t,{default:function(){return M}});var r=e(1413),n=e(5671),i=e(3144),a=e(136),o=e(516),u=e(2791),c=e(8687),d=e(6070),l="MyPosts_postsBlock__Jv0Yk",p="MyPosts_posts__2Mhy-",h="Post_item__ESVTP",f=e(184);var v=function(s){return(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("img",{src:"https://cdn.dribbble.com/users/388052/screenshots/15969217/media/541d0e931dc044f08db966abeb598aec.jpg?compress=1&resize=400x300&vertical=top",alt:"avatar"}),s.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["like ",s.likes]})})]})},x=e(6139),m=e(704),j=e(5304),P=e(9086),g=(0,m.Z)({form:"ProfileAddNewPostForm"})((function(s){var t=s.handleSubmit;return(0,f.jsxs)("form",{onSubmit:t,children:[(0,f.jsx)("div",{children:(0,f.jsx)(x.Z,{placeholder:"New Post Text",name:"newPostText",component:P.gx,validate:[j.C,(0,j.D)(10)]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),_=u.memo((function(s){var t=s.posts.map((function(s){return(0,f.jsx)(v,{message:s.message,likes:s.likesCount},s.id)}));return(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("h3",{children:"My Post"}),(0,f.jsx)(g,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,f.jsx)("div",{className:p,children:t})]})})),U=(0,c.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,d.WA)(t))}}}))(_),Z="ProfileInfo_userData__Sy5mq",S="ProfileInfo_user__HcVLB",k="ProfileInfo_userAvatar__HXnw6",b="ProfileInfo_mainPhoto__JYzFZ",w=e(2733),y=e(9439),N=function(s){var t=(0,u.useState)(!1),e=(0,y.Z)(t,2),r=e[0],n=e[1],i=(0,u.useState)(s.status),a=(0,y.Z)(i,2),o=a[0],c=a[1];(0,u.useEffect)((function(){c(s.status)}),[s.status]);return(0,f.jsxs)("div",{children:[!r&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){n(!0)},children:s.status||"-----"})}),r&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){n(!1),s.updateUserStatus(o)},onChange:function(s){c(s.currentTarget.value)},value:o})})]})},I=e(1160);var C=function(s){var t=s.profile,e=s.status,r=s.updateUserStatus,n=s.isOwner,i=s.savePhoto;return t?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:S,children:[(0,f.jsxs)("div",{className:k,children:[(0,f.jsx)("img",{src:t.photos.large||I,className:b,alt:"avatar"}),n&&(0,f.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&i(s.target.files[0])}})]}),(0,f.jsxs)("div",{className:Z,children:[(0,f.jsxs)("div",{className:"user-name",children:["\u0418\u043c\u044f: ",t.fullName]}),(0,f.jsx)(N,{status:e,updateUserStatus:r}),(0,f.jsx)("div",{className:"contacts",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),(0,f.jsx)("div",{children:(0,f.jsx)("a",{href:"#ss",children:t.contacts.facebook})}),(0,f.jsx)("div",{children:(0,f.jsx)("a",{href:"#sss",children:t.contacts.instagram})})]})})]})]})}):(0,f.jsx)(w.Z,{})},A=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(C,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,f.jsx)(U,{})]})},T=e(7689),D=e(7781),O=e(1548),z=function(s){(0,a.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,n.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"componentDidUpdate",value:function(s){var t=this.props.match.params.userId;if(s.match.params.userId!==t){var e=this.props.authorizedUserId;this.props.getUserProfile(e),this.props.getUserStatus(e)}}},{key:"render",value:function(){return(0,f.jsx)(A,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto}))}}]),e}(u.Component);var M=(0,D.qC)((0,c.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:d.et,getUserStatus:d.Tq,updateUserStatus:d.OL,savePhoto:d.Ju}),(function(s){return function(t){var e=(0,T.TH)(),n=(0,T.s0)(),i=(0,T.UO)();return(0,f.jsx)(s,(0,r.Z)((0,r.Z)({},t),{},{match:{location:e,navigate:n,params:i}}))}}),O.D)(z)},1548:function(s,t,e){e.d(t,{D:function(){return h}});var r=e(1413),n=e(5671),i=e(3144),a=e(136),o=e(516),u=e(2791),c=e(8687),d=e(7689),l=e(184),p=function(s){return{isAuth:s.auth.isAuth}},h=function(s){var t=function(t){(0,a.Z)(u,t);var e=(0,o.Z)(u);function u(){return(0,n.Z)(this,u),e.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(s,(0,r.Z)({},this.props)):(0,l.jsx)(d.Fg,{to:"/login",replace:!0})}}]),u}(u.Component);return(0,c.$j)(p)(t)}}}]);
//# sourceMappingURL=172.c440fe81.chunk.js.map