"use strict";(self.webpackChunkfirst_01=self.webpackChunkfirst_01||[]).push([[172],{4172:function(s,t,e){e.r(t),e.d(t,{default:function(){return M}});var r=e(1413),n=e(5671),i=e(3144),a=e(136),u=e(516),o=e(2791),c=e(8687),d=e(6070),l="MyPosts_postsBlock__Jv0Yk",p="MyPosts_posts__2Mhy-",h="Post_item__ESVTP",f=e(184);var v=function(s){return(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("img",{src:"https://cdn.dribbble.com/users/388052/screenshots/15969217/media/541d0e931dc044f08db966abeb598aec.jpg?compress=1&resize=400x300&vertical=top",alt:"avatar"}),s.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["like ",s.likes]})})]})},x=e(6139),j=e(704),m=e(5304),g=e(9086),P=(0,j.Z)({form:"ProfileAddNewPostForm"})((function(s){var t=s.handleSubmit;return(0,f.jsxs)("form",{onSubmit:t,children:[(0,f.jsx)("div",{children:(0,f.jsx)(x.Z,{placeholder:"New Post Text",name:"newPostText",component:g.gx,validate:[m.C,(0,m.D)(10)]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),_=o.memo((function(s){var t=s.posts.map((function(s){return(0,f.jsx)(v,{message:s.message,likes:s.likesCount},s.id)}));return(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("h3",{children:"My Post"}),(0,f.jsx)(P,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,f.jsx)("div",{className:p,children:t})]})})),U=(0,c.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,d.WA)(t))}}}))(_),S="ProfileInfo_userData__Sy5mq",Z="ProfileInfo_user__HcVLB",k="ProfileInfo_userAvatar__HXnw6",b=e(2733),y=e(9439),N=function(s){var t=(0,o.useState)(!1),e=(0,y.Z)(t,2),r=e[0],n=e[1],i=(0,o.useState)(s.status),a=(0,y.Z)(i,2),u=a[0],c=a[1];(0,o.useEffect)((function(){c(s.status)}),[s.status]);return(0,f.jsxs)("div",{children:[!r&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){n(!0)},children:s.status||"-----"})}),r&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){n(!1),s.updateUserStatus(u)},onChange:function(s){c(s.currentTarget.value)},value:u})})]})};var w=function(s){var t=s.profile,e=s.status,r=s.updateUserStatus;return t?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:Z,children:[(0,f.jsx)("div",{className:k,children:(0,f.jsx)("img",{src:t.photos.large,alt:"avatar"})}),(0,f.jsxs)("div",{className:S,children:[(0,f.jsxs)("div",{className:"user-name",children:["\u0418\u043c\u044f: ",t.fullName]}),(0,f.jsx)(N,{status:e,updateUserStatus:r}),(0,f.jsx)("div",{className:"contacts",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),(0,f.jsx)("div",{children:(0,f.jsx)("a",{href:"#ss",children:t.contacts.facebook})}),(0,f.jsx)("div",{children:(0,f.jsx)("a",{href:"#sss",children:t.contacts.instagram})})]})})]})]})}):(0,f.jsx)(b.Z,{})},A=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(w,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,f.jsx)(U,{})]})},C=e(7689),I=e(7781),T=e(1548),D=function(s){(0,a.Z)(e,s);var t=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"componentDidUpdate",value:function(s){var t=this.props.match.params.userId;if(s.match.params.userId!==t){var e=this.props.authorizedUserId;this.props.getUserProfile(e),this.props.getUserStatus(e)}}},{key:"render",value:function(){return(0,f.jsx)(A,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),e}(o.Component);var M=(0,I.qC)((0,c.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:d.et,getUserStatus:d.Tq,updateUserStatus:d.OL}),(function(s){return function(t){var e=(0,C.TH)(),n=(0,C.s0)(),i=(0,C.UO)();return(0,f.jsx)(s,(0,r.Z)((0,r.Z)({},t),{},{match:{location:e,navigate:n,params:i}}))}}),T.D)(D)},1548:function(s,t,e){e.d(t,{D:function(){return h}});var r=e(1413),n=e(5671),i=e(3144),a=e(136),u=e(516),o=e(2791),c=e(8687),d=e(7689),l=e(184),p=function(s){return{isAuth:s.auth.isAuth}},h=function(s){var t=function(t){(0,a.Z)(o,t);var e=(0,u.Z)(o);function o(){return(0,n.Z)(this,o),e.apply(this,arguments)}return(0,i.Z)(o,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(s,(0,r.Z)({},this.props)):(0,l.jsx)(d.Fg,{to:"/login",replace:!0})}}]),o}(o.Component);return(0,c.$j)(p)(t)}}}]);
//# sourceMappingURL=172.ec64e616.chunk.js.map